(this.webpackJsonpbed_management_frontend=this.webpackJsonpbed_management_frontend||[]).push([[0],{113:function(e,t,a){e.exports=a(152)},118:function(e,t,a){},119:function(e,t,a){},146:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(12),i=a.n(r),c=(a(118),a(24)),u=a(25),o=function(){function e(){Object(c.a)(this,e),this.authKey=null,this.authKey=window.localStorage.getItem("authKey")}return Object(u.a)(e,[{key:"auth",value:function(e){return this.authKey=e,window.localStorage.setItem("authKey",this.authKey),this.authKey}},{key:"getKey",value:function(){return this.authKey}},{key:"isAuthenticated",value:function(){return null!==this.authKey}},{key:"logoff",value:function(){return window.localStorage.removeItem("authKey"),this.authKey=null,!0}}]),e}(),s=a(57),m=a(58),h=(a(119),a(156)),g=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).updateText=function(t){var a=t.target.value;e.setState({textInput:a})},e.authenticate=function(){e.state.textInput&&""!==e.state.textInput&&e.auth.auth(e.state.textInput),window.location.reload()},e.state={textInput:""},e.auth=new o,e}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"AuthView"},l.a.createElement(h.c,{tagName:"h1"},"Gib deine user ID ein"),l.a.createElement("input",{className:"input",value:this.state.textInput,onChange:this.updateText,autoFocus:!0}),l.a.createElement(h.a,{rightIcon:"arrow-right",intent:"success",className:"button",onClick:this.authenticate}),l.a.createElement(h.c,{tagName:"p"},"Bei fragen, schick uns eine email."))}}]),a}(n.Component),E=a(35),b=a(49),d=a(23),p=a.n(d),v=a(50),f=a(17);a(146);function N(){var e=Object(b.a)(["\nquery getHospital($input: GetHospitalInput!) {\n  getHospital(input: $input) {\n    hospital{\n      totalBeds\n      availableBeds\n      unavailableBeds\n    }\n      \n    }\n  }\n"]);return N=function(){return e},e}var w=p()(N());var I=function(){var e=new o,t=Object(n.useState)(0),a=Object(E.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(0),u=Object(E.a)(c,2),s=u[0],m=u[1],g=Object(v.a)(w,{variables:{input:{hospitalId:e.getKey()}}}),b=g.data,d=g.loading;g.error,Object(n.useEffect)((function(){b&&b.getHospital&&(i(b.getHospital.hospital.totalBeds),m(b.getHospital.hospital.availableBeds))}),[b]);var p={total:i,available:m},N={total:r,available:s},I=function(e){return function(t){var a=t.target.value;a=C(a),O(a)&&p[e](a)}},S=function(e){return function(){var t=N[e]+1;p[e](t)}},y=function(e){return function(){var t=N[e]-1;O(t)&&p[e](t)}},C=function(e){try{return parseInt(e)}catch(t){return!1}},O=function(e){return e>-1};return l.a.createElement("div",{className:"BedView"},l.a.createElement("div",{className:"section"},l.a.createElement("input",{className:"input",value:r,onChange:I("total")})," ",l.a.createElement(h.c,{tagName:"h1"},"Total"),l.a.createElement("br",null),l.a.createElement(h.a,{rightIcon:"plus",intent:f.a.SUCCESS,className:"buttonL",onClick:S("total"),large:!0,loading:d}),l.a.createElement(h.a,{rightIcon:"minus",intent:f.a.DANGER,className:"buttonR",onClick:y("total"),large:!0,loading:d})),l.a.createElement("div",{className:"section"},l.a.createElement("input",{className:"input",value:s,onChange:I("available")})," ",l.a.createElement(h.c,{tagName:"h1"},"Verf\xfcgbar"),l.a.createElement("br",null),l.a.createElement(h.a,{rightIcon:"plus",intent:f.a.SUCCESS,className:"buttonL",onClick:S("available"),large:!0,loading:d}),l.a.createElement(h.a,{rightIcon:"minus",intent:f.a.DANGER,className:"buttonR",onClick:y("available"),large:!0,loading:d})),l.a.createElement(h.c,{tagName:"p"},"Belastung ",parseInt(s/r*100),"%"),l.a.createElement(h.b,{animate:!1,value:s/r,intent:s/r<.8?f.a.SUCCESS:f.a.DANGER}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(h.a,{rightIcon:"log-out",intent:f.a.WARNING,onClick:function(){return e.logoff()&&window.location.reload()},text:"Log out",loading:d}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(h.c,{tagName:"p"},"Bei fragen, schick uns eine email."))},S=a(56),y=a(55),C=a(13);a(149),a(150),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=new S.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"/bed_management_frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_GRAPHQL_ENDPOINT||"https://bed-tracking.gigalixirapp.com/api",fetch:y.a}),k=new o;i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C.a,{client:O},k.isAuthenticated()?l.a.createElement(I,null):l.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.f4baec2e.chunk.js.map